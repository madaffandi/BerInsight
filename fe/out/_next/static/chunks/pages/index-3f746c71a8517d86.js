(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(9066)}])},2322:function(e,a,s){"use strict";s.d(a,{Z:function(){return l}});var t=s(5893),i=s(1163);function l(e){let{activePage:a}=e,s=(0,i.useRouter)();return(0,t.jsxs)("div",{style:{width:"260px",height:"100vh",background:"linear-gradient(180deg, #1a1a2e 0%, #16213e 100%)",position:"fixed",left:0,top:0,display:"flex",flexDirection:"column",padding:"24px 16px",boxShadow:"4px 0 12px rgba(0,0,0,0.1)",zIndex:1e3},children:[(0,t.jsx)("div",{style:{marginBottom:"40px",padding:"12px",textAlign:"center"},children:(0,t.jsx)("img",{src:"/BerInsight/assets/berinsight-logo.svg",alt:"BerInsight",style:{width:"180px",height:"auto"}})}),(0,t.jsx)("nav",{style:{flex:1},children:[{id:"dashboard",label:"Dashboard",icon:"\uD83D\uDCCA",path:"/"},{id:"call-to-action",label:"Call to Action",icon:"\uD83C\uDFAF",path:"/call-to-action"}].map(e=>{let i=a===e.id;return(0,t.jsxs)("button",{onClick:()=>s.push(e.path),style:{width:"100%",padding:"14px 20px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"12px",background:i?"linear-gradient(135deg, #9333ea 0%, #c084fc 100%)":"transparent",color:i?"#ffffff":"#a0aec0",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:i?"600":"500",cursor:"pointer",transition:"all 0.3s ease",textAlign:"left",boxShadow:i?"0 4px 12px rgba(147, 51, 234, 0.3)":"none"},onMouseEnter:e=>{i||(e.currentTarget.style.background="rgba(147, 51, 234, 0.1)",e.currentTarget.style.color="#ffffff")},onMouseLeave:e=>{i||(e.currentTarget.style.background="transparent",e.currentTarget.style.color="#a0aec0")},children:[(0,t.jsx)("span",{style:{fontSize:"20px"},children:e.icon}),(0,t.jsx)("span",{children:e.label})]},e.id)})}),(0,t.jsxs)("div",{style:{padding:"16px",borderTop:"1px solid rgba(255,255,255,0.1)",color:"#718096",fontSize:"12px",textAlign:"center"},children:[(0,t.jsx)("p",{style:{margin:0},children:"\xa9 2025 BerInsight"}),(0,t.jsx)("p",{style:{margin:"4px 0 0 0"},children:"Smart Media Insights"})]})]})}},9066:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return j}});var t=s(5893),i=s(7294),l=s(9008),n=s.n(l),r=s(5152),c=s.n(r),o=s(3148);let d=!1,h=()=>{d||(o.kL.register(o.uw,o.f$,o.od,o.jn,o.ZL,o.Dx,o.u,o.De,o.qi),d=!0)};var u=s(2322);c()(()=>s.e(495).then(s.bind(s,6495)).then(e=>e.Line),{loadableGenerated:{webpack:()=>[null]},ssr:!1});let m=c()(()=>s.e(495).then(s.bind(s,6495)).then(e=>e.Bar),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),p=c()(()=>s.e(495).then(s.bind(s,6495)).then(e=>e.Doughnut),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),x=e=>{let{words:a}=e;if(!a||0===a.length)return(0,t.jsx)("div",{style:{padding:"40px",textAlign:"center",color:"#888"},children:"No keywords available. Try adjusting filters."});let s=Math.max(...a.map(e=>e.value)),i=Math.min(...a.map(e=>e.value)),l=["#9333ea","#c084fc","#f59e0b","#fbbf24","#10b981","#34d399","#06b6d4","#ec4899"],n=a.slice(0,30);return(0,t.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",padding:"15px",justifyContent:"center",alignItems:"center",maxHeight:"350px",overflow:"auto"},children:n.map((e,a)=>{let n=(e.value-i)/(s-i||1),r=l[a%l.length];return(0,t.jsx)("span",{style:{fontSize:"".concat(14+18*n,"px"),color:r,fontWeight:"600",padding:"3px 8px",cursor:"pointer",transition:"all 0.2s ease",borderRadius:"4px",display:"inline-block",lineHeight:"1.4"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)",e.currentTarget.style.backgroundColor="".concat(r,"20")},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.backgroundColor="transparent"},title:"".concat(e.text,": ").concat(e.value," mentions"),children:e.text},"".concat(e.text,"-").concat(a))})})};class g extends i.Component{static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,a){console.error("WordCloud error:",e,a)}render(){return this.state.hasError?(0,t.jsx)("div",{style:{padding:"40px",textAlign:"center",color:"#ef4444"},children:"Unable to display word cloud. Please refresh the page."}):this.props.children}constructor(e){super(e),this.state={hasError:!1}}}function j(){let[e,a]=(0,i.useState)(!1),[s,l]=(0,i.useState)(null),[r,c]=(0,i.useState)(null),[o,d]=(0,i.useState)(!1),[j,v]=(0,i.useState)(!0),[b,f]=(0,i.useState)(""),[N,y]=(0,i.useState)(""),[C,w]=(0,i.useState)("all"),[D,k]=(0,i.useState)("all"),[S,A]=(0,i.useState)("all"),[I,M]=(0,i.useState)("all");(0,i.useEffect)(()=>{h(),a(!0)},[]);let P=(0,i.useMemo)(()=>r&&r.items?r.items.filter(e=>(!b||!e.date||!(e.date<b))&&(!N||!e.date||!(e.date>N))&&("all"===C||e.product===C)&&("all"===D||e.channel===D)&&("all"===S||e.social_media===S)&&("all"===I||e.sentiment===I)):[],[r,b,N,C,D,S,I]),B=(0,i.useMemo)(()=>{let e={YouTube:0,Instagram:0,Twitter:0,Facebook:0,"Apple AppStore":0,"Google Playstore":0};return P.forEach(a=>{a.social_media&&e.hasOwnProperty(a.social_media)&&e[a.social_media]++}),e},[P]),F=(0,i.useMemo)(()=>{let e={};return P.forEach(a=>{a.product&&(e[a.product]=(e[a.product]||0)+1)}),e},[P]),T=(0,i.useMemo)(()=>{let e={};return P.forEach(a=>{a.channel&&(e[a.channel]=(e[a.channel]||0)+1)}),e},[P]),E=(0,i.useMemo)(()=>{let e={positive:0,neutral:0,negative:0};return P.forEach(a=>{var s;let t=null===(s=a.sentiment)||void 0===s?void 0:s.toLowerCase();"positive"===t?e.positive++:"negative"===t?e.negative++:e.neutral++}),e},[P]),R=(0,i.useMemo)(()=>({labels:["YouTube","Instagram","Twitter","Facebook","AppStore","Playstore"],datasets:[{label:"Comments/Complaints",data:[B.YouTube,B.Instagram,B.Twitter,B.Facebook,B["Apple AppStore"],B["Google Playstore"]],backgroundColor:["rgba(255, 0, 0, 0.8)","rgba(225, 48, 108, 0.8)","rgba(29, 161, 242, 0.8)","rgba(24, 119, 242, 0.8)","rgba(0, 0, 0, 0.8)","rgba(52, 168, 83, 0.8)"]}]}),[B]),L=(0,i.useMemo)(()=>{let e=["BRImo","Card","Qlola","Loan","Simpedes","Britama","Deposito"];return{labels:e,datasets:[{data:e.map(e=>F[e]||0),backgroundColor:["#0047BA","#FF6B35","#F7B801","#00B4D8","#7209B7","#4CC9F0","#06FFA5"]}]}},[F]),_=(0,i.useMemo)(()=>{let e=["BRImo","BRILink","CERIA","Qlola","MMS","Sabrina"],a=["rgba(0, 71, 186, 0.8)","rgba(255, 107, 53, 0.8)","rgba(247, 184, 1, 0.8)","rgba(0, 180, 216, 0.8)","rgba(114, 9, 183, 0.8)","rgba(76, 201, 240, 0.8)"],s=a.map(e=>e.replace("0.8","1"));return{labels:e,datasets:[{label:"Interactions",data:e.map(e=>T[e]||0),backgroundColor:a,borderColor:s,borderWidth:2}]}},[T]),z=(0,i.useMemo)(()=>({labels:["Positive","Neutral","Negative"],datasets:[{data:[E.positive,E.neutral,E.negative],backgroundColor:["#10b981","#f59e0b","#ef4444"]}]}),[E]),G=(0,i.useMemo)(()=>{if(console.log("Calculating keywordsData from filteredInsights:",(null==P?void 0:P.length)||0),!P||0===P.length)return console.log("No filtered insights available"),[];let e={},a=new Set(["di","dan","yang","untuk","dengan","tidak","pada","dari","ke","ini","itu","adalah","atau","saat","sejak","tapi","fitur","customer","service","bri","bank"]);P.forEach(s=>{(s.title||s.summary)&&"".concat(s.title||""," ").concat(s.summary||"").toLowerCase().split(/\s+/).forEach(s=>{let t=s.replace(/[^a-z0-9]/g,"");t.length>3&&!a.has(t)&&(e[t]=(e[t]||0)+1)})});let s=Object.entries(e).sort((e,a)=>{let[,s]=e,[,t]=a;return t-s}).slice(0,50).map(e=>{let[a,s]=e;return{text:a,value:s}});return console.log("Keywords data generated:",s.length,"keywords"),s.length>0&&console.log("Sample keywords:",s.slice(0,5)),s},[P]),Q=P.length,H=E.positive+E.neutral+E.negative,K=H>0?((5*E.positive+3*E.neutral+1*E.negative)/H).toFixed(1):"0.0",O=H>0?Math.round(E.positive/H*100):0,W={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Chart Title"}}},Y=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,s=new AbortController,t=setTimeout(()=>s.abort(),a);try{let a=await fetch(e,{signal:s.signal});return clearTimeout(t),a}catch(e){throw clearTimeout(t),e}},q=async()=>{try{let e=await Y("".concat("http://localhost:8000","/healthz"));if(e.ok){let a=await e.json();l(a)}}catch(e){console.error("Failed to fetch health status:",e)}},Z=async()=>{try{let e=await Y("".concat("http://localhost:8000","/insights"));if(e.ok){let a=await e.json();c(a),d(!1)}}catch(e){console.error("Failed to fetch insights, trying fallback:",e);try{let e=await fetch("/fallback.json");if(e.ok){let a=await e.json();c(a),d(!0)}}catch(e){console.error("Fallback also failed:",e)}}};return((0,i.useEffect)(()=>{(async()=>{v(!0),await Promise.all([q(),Z()]),v(!1)})()},[]),e)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n(),{children:[(0,t.jsx)("title",{children:"BerInsight - Customer Knowledge Analytics"}),(0,t.jsx)("meta",{name:"description",content:"AI-Powered Customer Knowledge Analytics & Social Media Insights"}),(0,t.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsxs)("div",{style:{display:"flex"},children:[(0,t.jsx)(u.Z,{activePage:"dashboard"}),(0,t.jsxs)("div",{className:"dashboard",style:{marginLeft:"260px",width:"calc(100% - 260px)"},children:[(0,t.jsxs)("header",{className:"dashboard-header",children:[(0,t.jsx)("h1",{children:"BerInsight Customer Knowledge Analytics"}),(0,t.jsx)("p",{children:"AI-Powered Customer Insights & Social Media Analytics"}),(0,t.jsxs)("div",{className:"filter-panel",children:[(0,t.jsxs)("div",{className:"filter-row",children:[(0,t.jsxs)("div",{className:"filter-item",children:[(0,t.jsx)("label",{children:"\uD83D\uDCC5 Start Date:"}),(0,t.jsx)("input",{type:"date",value:b,onChange:e=>f(e.target.value),className:"filter-input"})]}),(0,t.jsxs)("div",{className:"filter-item",children:[(0,t.jsx)("label",{children:"\uD83D\uDCC5 End Date:"}),(0,t.jsx)("input",{type:"date",value:N,onChange:e=>y(e.target.value),className:"filter-input"})]}),(0,t.jsxs)("div",{className:"filter-item",children:[(0,t.jsx)("label",{children:"\uD83D\uDCF1 Product:"}),(0,t.jsxs)("select",{value:C,onChange:e=>w(e.target.value),className:"filter-select",children:[(0,t.jsx)("option",{value:"all",children:"All Products"}),(0,t.jsx)("option",{value:"BRImo",children:"BRImo"}),(0,t.jsx)("option",{value:"Card",children:"Card"}),(0,t.jsx)("option",{value:"Qlola",children:"Qlola"}),(0,t.jsx)("option",{value:"Loan",children:"Loan"}),(0,t.jsx)("option",{value:"Simpedes",children:"Simpedes"}),(0,t.jsx)("option",{value:"Britama",children:"Britama"}),(0,t.jsx)("option",{value:"Deposito",children:"Deposito"})]})]}),(0,t.jsxs)("div",{className:"filter-item",children:[(0,t.jsx)("label",{children:"\uD83C\uDFEA Channel:"}),(0,t.jsxs)("select",{value:D,onChange:e=>k(e.target.value),className:"filter-select",children:[(0,t.jsx)("option",{value:"all",children:"All Channels"}),(0,t.jsx)("option",{value:"BRImo",children:"BRImo"}),(0,t.jsx)("option",{value:"BRILink",children:"BRILink"}),(0,t.jsx)("option",{value:"CERIA",children:"CERIA"}),(0,t.jsx)("option",{value:"Qlola",children:"Qlola"}),(0,t.jsx)("option",{value:"MMS",children:"MMS"}),(0,t.jsx)("option",{value:"Sabrina",children:"Sabrina"})]})]}),(0,t.jsxs)("div",{className:"filter-item",children:[(0,t.jsx)("label",{children:"\uD83D\uDCFA Social Media:"}),(0,t.jsxs)("select",{value:S,onChange:e=>A(e.target.value),className:"filter-select",children:[(0,t.jsx)("option",{value:"all",children:"All Platforms"}),(0,t.jsx)("option",{value:"YouTube",children:"YouTube"}),(0,t.jsx)("option",{value:"Instagram",children:"Instagram"}),(0,t.jsx)("option",{value:"Twitter",children:"Twitter"}),(0,t.jsx)("option",{value:"Facebook",children:"Facebook"}),(0,t.jsx)("option",{value:"Apple AppStore",children:"Apple AppStore"}),(0,t.jsx)("option",{value:"Google Playstore",children:"Google Playstore"})]})]}),(0,t.jsxs)("div",{className:"filter-item",children:[(0,t.jsx)("label",{children:"\uD83D\uDE0A Sentiment:"}),(0,t.jsxs)("select",{value:I,onChange:e=>M(e.target.value),className:"filter-select",children:[(0,t.jsx)("option",{value:"all",children:"All Sentiments"}),(0,t.jsx)("option",{value:"positive",children:"Positive"}),(0,t.jsx)("option",{value:"neutral",children:"Neutral"}),(0,t.jsx)("option",{value:"negative",children:"Negative"})]})]}),(0,t.jsx)("div",{className:"filter-item",children:(0,t.jsx)("button",{onClick:()=>{f(""),y(""),w("all"),k("all"),A("all"),M("all")},className:"filter-reset-btn",children:"\uD83D\uDD04 Reset Filters"})})]}),(0,t.jsxs)("div",{className:"filter-stats",children:[(0,t.jsx)("strong",{children:"Showing:"})," ",Q," items",(b||N||"all"!==C||"all"!==D||"all"!==S||"all"!==I)&&(0,t.jsx)("span",{className:"filtered-badge",children:"Filtered"})]})]})]}),(0,t.jsxs)("div",{className:"dashboard-grid",children:[(0,t.jsxs)("div",{className:"metrics-row",children:[(0,t.jsxs)("div",{className:"metric-card",children:[(0,t.jsx)("h3",{children:"Total Feedback"}),(0,t.jsx)("div",{className:"metric-value",children:Q.toLocaleString()}),(0,t.jsx)("div",{className:"metric-change positive",children:"Real-time"})]}),(0,t.jsxs)("div",{className:"metric-card",children:[(0,t.jsx)("h3",{children:"Customer Satisfaction"}),(0,t.jsxs)("div",{className:"metric-value",children:[K,"/5.0"]}),(0,t.jsxs)("div",{className:"metric-change positive",children:[O,"% positive"]})]}),(0,t.jsxs)("div",{className:"metric-card",children:[(0,t.jsx)("h3",{children:"Sentiment Score"}),(0,t.jsxs)("div",{className:"metric-value",children:[O,"%"]}),(0,t.jsx)("div",{className:"metric-change positive",children:"Positive rate"})]}),(0,t.jsxs)("div",{className:"metric-card",children:[(0,t.jsx)("h3",{children:"Data Points"}),(0,t.jsx)("div",{className:"metric-value",children:Object.keys(F).length}),(0,t.jsx)("div",{className:"metric-change neutral",children:"Products"})]})]}),(0,t.jsxs)("div",{className:"analytics-grid analytics-grid-four",children:[(0,t.jsxs)("div",{className:"chart-container",children:[(0,t.jsx)("h3",{children:"Social Media Feedback"}),(0,t.jsx)(m,{data:R,options:{...W,plugins:{...W.plugins,title:{display:!0,text:"Comments by Social Media Platform"},legend:{display:!1}}}})]}),(0,t.jsxs)("div",{className:"chart-container",children:[(0,t.jsx)("h3",{children:"Product Analysis"}),(0,t.jsx)(p,{data:L,options:{...W,plugins:{...W.plugins,title:{display:!0,text:"Feedback by Product"}}}})]}),(0,t.jsxs)("div",{className:"chart-container",children:[(0,t.jsx)("h3",{children:"Channel Distribution"}),(0,t.jsx)(m,{data:_,options:{...W,plugins:{...W.plugins,title:{display:!0,text:"Interactions by Channel"},legend:{display:!1}}}})]}),(0,t.jsxs)("div",{className:"chart-container",children:[(0,t.jsx)("h3",{children:"Sentiment Analysis"}),(0,t.jsxs)("div",{className:"sentiment-grid",children:[(0,t.jsx)("div",{className:"sentiment-chart",children:(0,t.jsx)(p,{data:z,options:{...W,plugins:{...W.plugins,title:{display:!1}}}})}),(0,t.jsxs)("div",{className:"sentiment-stats",children:[(0,t.jsxs)("div",{className:"sentiment-item positive",children:[(0,t.jsx)("div",{className:"sentiment-label",children:"Positive"}),(0,t.jsxs)("div",{className:"sentiment-value",children:[E.positive," (",H>0?Math.round(E.positive/H*100):0,"%)"]})]}),(0,t.jsxs)("div",{className:"sentiment-item neutral",children:[(0,t.jsx)("div",{className:"sentiment-label",children:"Neutral"}),(0,t.jsxs)("div",{className:"sentiment-value",children:[E.neutral," (",H>0?Math.round(E.neutral/H*100):0,"%)"]})]}),(0,t.jsxs)("div",{className:"sentiment-item negative",children:[(0,t.jsx)("div",{className:"sentiment-label",children:"Negative"}),(0,t.jsxs)("div",{className:"sentiment-value",children:[E.negative," (",H>0?Math.round(E.negative/H*100):0,"%)"]})]})]})]})]})]}),(0,t.jsxs)("div",{className:"keywords-ideas-section",children:[(0,t.jsxs)("div",{className:"keywords-card",children:[(0,t.jsx)("h3",{children:"Most Mentioned Keywords"}),(0,t.jsx)("div",{className:"wordcloud-container",children:(0,t.jsx)(g,{children:e?(0,t.jsx)(x,{words:G}):(0,t.jsx)("div",{style:{padding:"40px",textAlign:"center",color:"#888"},children:"Initializing..."})})})]}),(0,t.jsxs)("div",{className:"ideas-card",children:[(0,t.jsx)("h3",{children:"Highlighted Ideas & Suggestions"}),(0,t.jsxs)("div",{className:"ideas-grid",children:[(0,t.jsxs)("div",{className:"idea-card priority-high",children:[(0,t.jsxs)("div",{className:"idea-header",children:[(0,t.jsx)("span",{className:"idea-badge",children:"High Priority"}),(0,t.jsx)("span",{className:"idea-product",children:"BRImo"})]}),(0,t.jsx)("h4",{children:"Dark Mode Implementation"}),(0,t.jsx)("p",{children:"Multiple users requesting dark mode feature for better night-time usage. High engagement potential."}),(0,t.jsxs)("div",{className:"idea-meta",children:[(0,t.jsx)("span",{children:"\uD83D\uDCF1 45 mentions"}),(0,t.jsx)("span",{children:"⭐ 89% positive"})]})]}),(0,t.jsxs)("div",{className:"idea-card priority-medium",children:[(0,t.jsxs)("div",{className:"idea-header",children:[(0,t.jsx)("span",{className:"idea-badge medium",children:"Medium Priority"}),(0,t.jsx)("span",{className:"idea-product",children:"Card"})]}),(0,t.jsx)("h4",{children:"Biometric Authentication"}),(0,t.jsx)("p",{children:"Customers want fingerprint/face recognition for card transactions to enhance security."}),(0,t.jsxs)("div",{className:"idea-meta",children:[(0,t.jsx)("span",{children:"\uD83D\uDD10 32 mentions"}),(0,t.jsx)("span",{children:"⭐ 92% positive"})]})]}),(0,t.jsxs)("div",{className:"idea-card priority-high",children:[(0,t.jsxs)("div",{className:"idea-header",children:[(0,t.jsx)("span",{className:"idea-badge",children:"High Priority"}),(0,t.jsx)("span",{className:"idea-product",children:"Qlola"})]}),(0,t.jsx)("h4",{children:"Merchant Cashback Program"}),(0,t.jsx)("p",{children:"Request for enhanced cashback rewards at partner merchants to increase usage."}),(0,t.jsxs)("div",{className:"idea-meta",children:[(0,t.jsx)("span",{children:"\uD83D\uDCB0 38 mentions"}),(0,t.jsx)("span",{children:"⭐ 95% positive"})]})]})]})]})]}),P.length>0&&(0,t.jsxs)("div",{className:"insights-section",children:[(0,t.jsxs)("h2",{children:["Latest Customer Insights (",P.length," items)"]}),(0,t.jsx)("div",{className:"insights-grid",children:P.slice(0,6).map((e,a)=>(0,t.jsxs)("div",{className:"insight-card",children:[(0,t.jsxs)("div",{className:"insight-header",children:[(0,t.jsx)("span",{className:"insight-type",children:e.type}),(0,t.jsx)("span",{className:"insight-sentiment ".concat(e.sentiment||"neutral"),children:e.sentiment||"neutral"})]}),(0,t.jsx)("h4",{children:e.title}),(0,t.jsxs)("p",{className:"insight-source",children:["\uD83D\uDCCD ",e.source]}),(0,t.jsx)("p",{className:"insight-summary",children:e.summary})]},a))})]})]})]})]})]}):null}}},function(e){e.O(0,[196,558,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);